<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <style type="text/css">
        body
        {
            font-family: Arial;
            font-size: 10pt;
        }

        @font-face {
          font-family: 'password';
          font-style: normal;
          font-weight: 400;
          src: url(https://jsbin-user-assets.s3.amazonaws.com/rafaelcastrocouto/password.ttf);
        }

        input.key {
          font-family: 'password';
          width: 100px; height: 16px;  
        }
    </style>
</head>
<body>
    Name:
    <input type="text" id="txtName" />
    <br />
    <br />
    <input id="btnWrite" type="button" value="Write Cookie" onclick="WriteCookie()" />
    <input id="btnRead" type="button" value="Read Cookie" onclick="ReadCookie()" />
    <input id="btnDelete" type="button" value="Remove Cookie" onclick="RemoveCookie()" />
    
    <br />
    <br />
    <input class="key" type="text" autocomplete="off" />
    <br />
    <br />

    <div>
        <table border="1">
        <tr>
            <th><input type="checkbox" id="selectall"/></th>
            <th>Cell phone</th>
            <th>Rating</th>
        </tr>
        <tr>
            <td align="center"><input type="checkbox" class="case" name="case" value="1"/></td>
            <td>BlackBerry Bold 9650</td>
            <td>2/5</td>
        </tr>
        <tr>
            <td align="center"><input type="checkbox" class="case" name="case" value="2"/></td>
            <td>Samsung Galaxy</td>
            <td>3.5/5</td>
        </tr>
        <tr>
            <td align="center"><input type="checkbox" class="case" name="case" value="3"/></td>
            <td>Droid X</td>
            <td>4.5/5</td>
        </tr>
        <tr>
            <td align="center"><input type="checkbox" class="case" name="case" value="4"/></td>
            <td>HTC Desire</td>
            <td>3/5</td>
        </tr>
        <tr>
            <td align="center"><input type="checkbox" class="case" name="case" value="5"/></td>
            <td>Apple iPhone 4</td>
            <td>5/5</td>
        </tr>
        </table>
    </div>

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script type="text/javascript">
        $(function () {
            $("#btnWrite").click(function () {
                $.cookie("Name", $("#txtName").val());
            });
            $("#btnRead").click(function () {
                alert($.cookie("Name"));
            });
            $("#btnDelete").click(function () {
                $.removeCookie("Name")
            });
        });

        //add data in local storage
        var newStudent = [{
             "name":        "John",
             "age":         21,
             "nationality": "Spanish"
         }];

        localStorage.setItem("students", JSON.stringify(newStudent));

        var retrievedObject = localStorage.getItem("students");
        var stored          = JSON.parse(retrievedObject); // <---- newStudent1

        var newStudent2 = [{
            "name":        "Mary",
            "age":         20,
            "nationality": "German"
        }];

        var stored = Object.assign(stored, newStudent2); // <---- Here newStudent1 is replaced by newStudent2

        localStorage.setItem("students", JSON.stringify(stored)); // Here newStudent2 is replacing old object on localStorage
        var result = localStorage.getItem("students");

        console.log(result);


        // check box section
        $(function(){

            // add multiple select / deselect functionality
            $("#selectall").click(function () {
                  $('.case').attr('checked', this.checked);
            });

            // if all checkbox are selected, check the selectall check-box
            // and vice-versa
            $(".case").click(function(){

                if($(".case").length == $(".case:checked").length) {
                    $("#selectall").attr("checked", "checked");
                } else {
                    $("#selectall").removeAttr("checked");
                }

            });
        });

    </script>
</body>
</html>
